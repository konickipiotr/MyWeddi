<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="../../static/css/addguest.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@200&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/cc786d7d3d.js" crossorigin="anonymous"></script>
  <title>MyWeddi</title>

  <link rel="stylesheet" type="text/css" href="/css/mainstyle.css">
  <link rel="stylesheet" type="text/css" href="/css/header.css">
  <link rel="stylesheet" type="text/css" href="/css/menu.css">
  <link rel="stylesheet" type="text/css" href="/css/addguest.css">
  <link rel="stylesheet" type="text/css" href="/css/addgifts.css">


  <link rel="stylesheet" type="text/css" href="../../static/css/mainstyle.css">
  <link rel="stylesheet" type="text/css" href="../../static/css/header.css">
  <link rel="stylesheet" type="text/css" href="../../static/css/menu.css">
  <link rel="stylesheet" type="text/css" href="../../static/css/addguest.css">
  <link rel="stylesheet" type="text/css" href="../../static/css/addgifts.css">
</head>

<body>
  <header th:replace="fragments/top :: top"></header>
  <header th:replace="fragments/header :: header"></header>
  <div class="container" style="display: flex;">
    <aside class="menu" th:replace="fragments/menu :: menu"></aside>
    <!-- ************************************************** -->

    
    <section class="content">
      <form th:action="@{/host/gift}" method="post" class="addgift_form">
        <div class="addGifts_top">
          <p class="p1"><b>GŁÓWNY PREZENT</b> </p>
          <div class="bigGifts">

            <input type="hidden" name="GIFTS" id="GIFTS" th:value="${giftIn.GIFTS}">
            <button th:if="${giftIn.GIFTS}" type="button" class="gift-btn-selected" onclick="mainGiftSelect(this, 'GIFTS')" id="bGIFTS" style="background-image: url(/img/prezent.png)"></button>
            <button th:unless="${giftIn.GIFTS}" type="button" class="gift-btn" onclick="mainGiftSelect(this, 'GIFTS')" id="bGIFTS" style="background-image: url(/img/prezent.png)"></button>

            <input type="hidden" name="MONEY" id="MONEY" th:value="${giftIn.MONEY}">
            <button th:if="${giftIn.MONEY}" type="button" class="gift-btn-selected" onclick="mainGiftSelect(this, 'MONEY')" id="bMONEY" style="background-image: url(/img/koperta.png)"></button>
            <button th:unless="${giftIn.MONEY}" type="button" class="gift-btn" onclick="mainGiftSelect(this, 'MONEY')" id="bMONEY" style="background-image: url(/img/koperta.png)"></button>

          </div>
          <p class="p00"><b>PREZENT ZAMIAST KWIATÓW (OPCIONALNIE)</b></p>
          <div class="smallGifts">
            <div class="column">
              <div class="gift-row">
                <input type="hidden" name="POTTEDFLOWERS" id="POTTEDFLOWERS" th:value="${giftIn.POTTEDFLOWERS}">
                <button th:if="${giftIn.POTTEDFLOWERS}" type="button" class="gift-btn-selected" id="bPOTTEDFLOWERS" onclick="smallGiftSelect(this, 'POTTEDFLOWERS')" style="background-image: url(/img/kwiat.png)"></button>
                <button th:unless="${giftIn.POTTEDFLOWERS}" type="button" class="gift-btn" id="bPOTTEDFLOWERS" onclick="smallGiftSelect(this, 'POTTEDFLOWERS')" style="background-image: url(/img/kwiat.png)"></button>
                <label>Kwiaty doniczkowe</label>
              </div>

              <div class="gift-row">
                <input type="hidden" name="WINE" id="WINE" th:value="${giftIn.WINE}">
                <button th:if="${giftIn.WINE}" type="button" class="gift-btn-selected" id="bWINE" onclick="smallGiftSelect(this, 'WINE')" style="background-image: url(/img/wino.png)"></button>
                <button th:unless="${giftIn.WINE}" type="button" class="gift-btn" id="bWINE" onclick="smallGiftSelect(this, 'WINE')" style="background-image: url(/img/wino.png)"></button>
                <label>Wino</label>
              </div>

              <div class="gift-row">
                <input type="hidden" name="BOOKS" id="BOOKS" th:value="${giftIn.BOOKS}">
                <button th:if="${giftIn.BOOKS}" type="button" class="gift-btn-selected" id="bBOOKS" onclick="smallGiftSelect(this, 'BOOKS')" style="background-image: url(/img/ksiazka.png)"></button>
                <button th:unless="${giftIn.BOOKS}" type="button" class="gift-btn" id="bBOOKS" onclick="smallGiftSelect(this, 'BOOKS')"  style="background-image: url(/img/ksiazka.png)"></button>
                <label>Książki</label>
              </div>
            </div>
            <div class="column">
              <div class="gift-row">
                <input type="hidden" name="FOODER" id="FOODER" th:value="${giftIn.FOODER}">
                <button th:if="${giftIn.FOODER}" type="button" class="gift-btn-selected" id="bFOODER" onclick="smallGiftSelect(this, 'FOODER')" style="background-image: url(/img/karma.png)"></button>
                <button th:unless="${giftIn.FOODER}" type="button" class="gift-btn" id="bFOODER" onclick="smallGiftSelect(this, 'FOODER')" style="background-image: url(/img/karma.png)"></button>
                <label>Karma dla zwierząt</label>
              </div>
              <div class="gift-row">
                <input type="hidden" name="LOTTERY" id="LOTTERY" th:value="${giftIn.LOTTERY}">
                <button th:if="${giftIn.LOTTERY}" type="button" class="gift-btn-selected" id="bLOTTERY" onclick="smallGiftSelect(this, 'LOTTERY')" style="background-image: url(/img/lotto.png)"></button>
                <button th:unless="${giftIn.LOTTERY}" type="button" class="gift-btn" id="bLOTTERY" onclick="smallGiftSelect(this, 'LOTTERY')" style="background-image: url(/img/lotto.png)"></button>
                <label>Kupony na loterii</label>
              </div>
              <div class="gift-row">
                <input type="hidden" name="CHARITY" id="CHARITY" th:value="${giftIn.CHARITY}">
                <button th:if="${giftIn.CHARITY}" type="button" class="gift-btn-selected" id="CHARITY" onclick="smallGiftSelect(this, 'CHARITY')" style="background-image: url(/img/dobroczynność.png)"></button>
                <button th:unless="${giftIn.CHARITY}" type="button" class="gift-btn" id="CHARITY" onclick="smallGiftSelect(this, 'CHARITY')" style="background-image: url(/img/dobroczynność.png)"></button>
                <label>Dobroczynność</label>
              </div>
            </div>
          </div>


        </div>
        <div class="textarea_addGifts">
          <p class="p3"><strong>Jeśli nie satysfakcjonują cię powyższe wybory, wpisz informacjie w polu poniżej. Możesz tu umieścić wierszyk, doatkowe inforamcjie jak np: fundacja, numer konta</strong></p>
          <textarea class="giftInfo" id="giftInfo" name="giftInfo" th:text="${giftIn.giftInfo}" rows="4" cols="50">
            </textarea>
        </div>
        <div class="enterbtn_addGifts">
          <button type="submit" class="btn00">Z A P I S Z</button>
        </div>
      </form>
      <div class ="textarea_addGifts2" >
      <p class="p0"><strong>Jeśli zależy Ci na konkretnej rzeczy/książce itd. dodaj ja do listy</strong></p>
      <div>
        <input type="text" name="giftname" id="giftname" minlength="2">
      </div>
      </div>
      <div class="enterbtn_addGifts2">
        <button type="submit" class="btn00">D O D A J</button>
      </div>
      <div class="down_of_addgifts">

        <form th:action="@{/host/gift/add}" method="post">

        </form>
        <div class="listofguest">
          <table class="table_gifts">
            <tr>
              <th>LP</th>
              <th>Prezent</th>
              <th>REZERWUJ</th>
            </tr>
            <tr th:each="g, it : ${giftWrapper.gifts}">

              <td th:text="${it.count}"></td>
              <td th:text="${g.name}"></td>
              <td th:if="${g.userid == null}">REZERWUJ</td>
              <td th:unless="${g.userid == null}"></td>
              <td>
                <form th:action="@{/host/gift/remove}" method="post">
                  <button type="submit" name="giftid" th:value="${g.id}">Usuń</button>
                </form>
              </td>
            </tr>
          </table>
        </div>
      </div>
    </section>

    <!-- ************************************************** -->
  </div>
  <footer th:replace="fragments/footer :: footer"></footer>
</body>
<script src="/js/uploadphoto.js"></script>
<script>
  function smallGiftSelect(selectedBtn, idname) {

    let selectedInput = document.getElementById(idname);

    let isSelected = selectedInput.value;
    if (isSelected === "true") {
      selectedInput.value = false;
      selectedBtn.className = "gift-btn";
    } else {
      selectedInput.value = true;
      selectedBtn.className = "gift-btn-selected";
    }
  }

  function mainGiftSelect(selectedBtn, idname) {

    let selectedInput = document.getElementById(idname);

    let money = document.getElementById("MONEY");
    let moneyBtn = document.getElementById("bMONEY");
    let gifts = document.getElementById("GIFTS");
    let giftsBtn = document.getElementById("bGIFTS");


    let otherBtn = null;
    let otherInput = null;
    if(selectedInput.id == money.id){
      otherBtn = giftsBtn;
      otherInput = gifts;
    }
    else{
      otherBtn = moneyBtn;
      otherInput = money;
    }


    if(selectedInput.value == "true"){
      selectedInput.value = "false";
      selectedBtn.className = "gift-btn";
      return;
    }else{
      selectedInput.value = true;
      otherInput.value = false;

      selectedBtn.className = "gift-btn-selected";
      otherBtn.className = "gift-btn";
    }
  }
</script>
</html>
